<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:set="http://www.sitecore.net/xmlconfig/set/">
  <sitecore>
    <contentSearch>
      <indexConfigurations>
        <defaultCloudIndexConfiguration>
          <fieldMap>
            <fieldNames>
              <!--FIX FOR ISSUE 146415 -->
              <field fieldName="__semantics" set:type="System.String[]" />
            </fieldNames>

            <!-- FIX FOR ISSUE 170254 -->
            <fieldTypes>
              <fieldType fieldTypeName="checkbox"               set:type="System.Boolean"  />
              <fieldType fieldTypeName="checklist"              set:type="System.String[]" />
              <fieldType fieldTypeName="droplink"               set:type="System.Guid"     />
              <fieldType fieldTypeName="droptree"               set:type="System.Guid"     />
              <fieldType fieldTypeName="grouped droplink"       set:type="System.Guid"     />
              <fieldType fieldTypeName="integer"                set:type="System.Int64"    />
              <fieldType fieldTypeName="multilist with search"  set:type="System.String[]" />
              <fieldType fieldTypeName="multilist"              set:type="System.String[]" />
              <fieldType fieldTypeName="name lookup value list" set:type="System.String[]" />
              <fieldType fieldTypeName="name value list"        set:type="System.String[]" />
              <fieldType fieldTypeName="number"                 set:type="System.Single"   />
              <fieldType fieldTypeName="tree list"              set:type="System.String[]" />
              <fieldType fieldTypeName="tree"                   set:type="System.Guid"     />
              <fieldType fieldTypeName="treelist with search"   set:type="System.String[]" />
              <fieldType fieldTypeName="treelist"               set:type="System.String[]" />
              <fieldType fieldTypeName="treelistex"             set:type="System.String[]" />
            </fieldTypes>
          </fieldMap>
          <indexFieldStorageValueFormatter>
            <patch:attribute name="type" value="Sitecore.Support.ContentSearch.Azure.Converters.CloudIndexFieldStorageValueFormatter, Sitecore.Support.145992"/>
          </indexFieldStorageValueFormatter>
          <documentBuilderType>Sitecore.Support.ContentSearch.Azure.CloudSearchDocumentBuilder, Sitecore.Support.145992</documentBuilderType>
        </defaultCloudIndexConfiguration>
      </indexConfigurations>
    </contentSearch>
    <settings>
      <!--  AZURE SEARCH MAX RESULTS
            The max number of results that a query returns by Azure Search provider.
            If value is set to "", value from "ContentSearch.SearchMaxResults" setting is used. 
            However Azure Search service limits number of documents in a search result by 1000.
            
            Default value: "1000"
      -->
      <setting name="ContentSearch.AzureSearch.SearchMaxResults" value="1000" />
    </settings>
  </sitecore>
</configuration>